<div class="modal-fullscreen">
  <br />
  <mat-dialog-content class="modal-content">
    <div class="content-grid">
      <!-- ================= TITULAR ================= -->
      <div class="grid-section">
        <h3 class="section-title">Dados do Titular</h3>
        <div class="table-container">
          <table
            mat-table
            [dataSource]="[data.titular]"
            class="mat-elevation-z1 data-table"
          >
            <ng-container
              *ngFor="let col of colunasTitular"
              [matColumnDef]="col"
            >
              <th mat-header-cell *matHeaderCellDef>
                {{ getColumnDisplayName(col) }}
              </th>
              <td mat-cell *matCellDef="let el">
                <mat-form-field appearance="outline" class="full-width-field">
                  <input
                    matInput
                    [(ngModel)]="el[col]"
                    [disabled]="!editando"
                    [type]="getInputType(col)"
                  />
                </mat-form-field>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="colunasTitular"></tr>
            <tr mat-row *matRowDef="let row; columns: colunasTitular"></tr>
          </table>
        </div>
      </div>
      <br />
      <!-- ================= CONJUGE ================= -->
      <div class="grid-section">
        <h3 class="section-title">Dados do Cônjuge</h3>
        <div class="table-container">
          <table
            mat-table
            [dataSource]="[data.conjuge]"
            class="mat-elevation-z1 data-table"
          >
            <ng-container
              *ngFor="let col of colunasConjuge"
              [matColumnDef]="col"
            >
              <th mat-header-cell *matHeaderCellDef>
                {{ getColumnDisplayName(col) }}
              </th>
              <td mat-cell *matCellDef="let el">
                <mat-form-field appearance="outline" class="full-width-field">
                  <input
                    matInput
                    [(ngModel)]="el[col]"
                    [disabled]="!editando"
                    [type]="getInputType(col)"
                  />
                </mat-form-field>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="colunasConjuge"></tr>
            <tr mat-row *matRowDef="let row; columns: colunasConjuge"></tr>
          </table>
        </div>
      </div>
      <br />
      <!-- ================= PROJETO ASSENTAMENTO ================= -->
      <div class="grid-section">
        <h3 class="section-title">Projeto de Assentamento</h3>
        <div class="table-container">
          <table
            mat-table
            [dataSource]="data.projeto_assentamento"
            class="mat-elevation-z1 data-table"
          >
            <ng-container
              *ngFor="let col of colunasProjeto"
              [matColumnDef]="col"
            >
              <th mat-header-cell *matHeaderCellDef>
                {{ getColumnDisplayName(col) }}
              </th>
              <td mat-cell *matCellDef="let el">
                <mat-form-field appearance="outline" class="full-width-field">
                  <input
                    matInput
                    [(ngModel)]="el[col]"
                    [disabled]="!editando"
                  />
                </mat-form-field>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="colunasProjeto"></tr>
            <tr mat-row *matRowDef="let row; columns: colunasProjeto"></tr>
          </table>
        </div>
      </div>
      <br />
      <!-- ================= ENDEREÇO COBRANÇA ================= -->
      <div class="grid-section">
        <h3 class="section-title">Endereço de Cobrança</h3>
        <div class="table-container">
          <table
            mat-table
            [dataSource]="data.endereco"
            class="mat-elevation-z1 data-table"
          >
            <ng-container
              *ngFor="let col of colunasEndereco"
              [matColumnDef]="col"
            >
              <th mat-header-cell *matHeaderCellDef>
                {{ getColumnDisplayName(col) }}
              </th>
              <td mat-cell *matCellDef="let el">
                <mat-form-field appearance="outline" class="full-width-field">
                  <input
                    matInput
                    [(ngModel)]="el[col]"
                    [disabled]="!editando"
                  />
                </mat-form-field>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="colunasEndereco"></tr>
            <tr mat-row *matRowDef="let row; columns: colunasEndereco"></tr>
          </table>
        </div>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions class="modal-actions">
    <div class="actions-container">
      <button
        mat-flat-button
        color="primary"
        (click)="habilitarEdicao()"
        [disabled]="editando"
        class="action-button"
      >
        <mat-icon>edit</mat-icon>
        Editar
      </button>

      <button
        mat-flat-button
        color="accent"
        (click)="salvar()"
        [disabled]="!editando"
        class="action-button"
      >
        <mat-icon>save</mat-icon>
        Salvar
      </button>

      <button
        mat-stroked-button
        color="warn"
        mat-dialog-close
        class="action-button"
      >
        <mat-icon>close</mat-icon>
        Fechar
      </button>
    </div>
  </mat-dialog-actions>
</div>
